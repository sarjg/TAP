-- MySQL Script generated by MySQL Workbench
-- dom 23 abr 2023 18:50:35
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema MAP
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `MAP` ;

-- -----------------------------------------------------
-- Schema MAP
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `MAP` ;
USE `MAP` ;

-- -----------------------------------------------------
-- Table `MAP`.`Supermercados`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `MAP`.`Supermercados` ;

CREATE TABLE IF NOT EXISTS `MAP`.`Supermercados` (
  `idSupermercados` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `direccion` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idSupermercados`))
ENGINE = InnoDB
AUTO_INCREMENT = 6
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `MAP`.`Adiminstradores`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `MAP`.`Adiminstradores` ;

CREATE TABLE IF NOT EXISTS `MAP`.`Adiminstradores` (
  `idAdiminstradores` INT NOT NULL AUTO_INCREMENT,
  `login` VARCHAR(45) NOT NULL,
  `contraseña` VARCHAR(45) NOT NULL,
  `nombre` VARCHAR(45) NOT NULL,
  `apellido` VARCHAR(45) NOT NULL,
  `DNI` VARCHAR(45) NULL DEFAULT NULL,
  `correo` VARCHAR(45) NULL DEFAULT NULL,
  `tipo` ENUM('Cliente', 'Trabajador') NOT NULL,
  `Supermercados_idSupermercados` INT NOT NULL,
  PRIMARY KEY (`idAdiminstradores`),
  UNIQUE INDEX `idAdiminstradores_UNIQUE` (`idAdiminstradores` ASC) VISIBLE,
  UNIQUE INDEX `login_UNIQUE` (`login` ASC) VISIBLE,
  INDEX `fk_Adiminstradores_Supermercados1_idx` (`Supermercados_idSupermercados` ASC) VISIBLE,
  CONSTRAINT `fk_Adiminstradores_Supermercados1`
    FOREIGN KEY (`Supermercados_idSupermercados`)
    REFERENCES `MAP`.`Supermercados` (`idSupermercados`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `MAP`.`Productos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `MAP`.`Productos` ;

CREATE TABLE IF NOT EXISTS `MAP`.`Productos` (
  `idProductos` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `precio` FLOAT NOT NULL,
  `Supermercados_idSupermercados` INT NOT NULL,
  PRIMARY KEY (`idProductos`),
  UNIQUE INDEX `idProductos_UNIQUE` (`idProductos` ASC) VISIBLE,
  UNIQUE INDEX `nombre_UNIQUE` (`nombre` ASC) VISIBLE,
  INDEX `fk_Productos_Supermercados1_idx` (`Supermercados_idSupermercados` ASC) VISIBLE,
  CONSTRAINT `fk_Productos_Supermercados1`
    FOREIGN KEY (`Supermercados_idSupermercados`)
    REFERENCES `MAP`.`Supermercados` (`idSupermercados`)
    ON DELETE RESTRICT
    ON UPDATE RESTRICT)
ENGINE = InnoDB
AUTO_INCREMENT = 29
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `MAP`.`Etiquetas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `MAP`.`Etiquetas` ;

CREATE TABLE IF NOT EXISTS `MAP`.`Etiquetas` (
  `idEtiquetas` INT NOT NULL AUTO_INCREMENT,
  `pasillo` INT NOT NULL,
  `estanteria` INT NOT NULL,
  `Productos_idProductos` INT NOT NULL,
  `Supermercados_idSupermercados` INT NOT NULL,
  PRIMARY KEY (`idEtiquetas`),
  UNIQUE INDEX `idEtiquetas_UNIQUE` (`idEtiquetas` ASC) VISIBLE,
  INDEX `fk_Etiquetas_Productos1_idx` (`Productos_idProductos` ASC) VISIBLE,
  INDEX `fk_Etiquetas_Supermercados1_idx` (`Supermercados_idSupermercados` ASC) VISIBLE,
  CONSTRAINT `fk_Etiquetas_Productos1`
    FOREIGN KEY (`Productos_idProductos`)
    REFERENCES `MAP`.`Productos` (`idProductos`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
  CONSTRAINT `fk_Etiquetas_Supermercados1`
    FOREIGN KEY (`Supermercados_idSupermercados`)
    REFERENCES `MAP`.`Supermercados` (`idSupermercados`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `MAP`.`Supermercados`
-- -----------------------------------------------------
START TRANSACTION;
USE `MAP`;
INSERT INTO `MAP`.`Supermercados` (`idSupermercados`, `nombre`, `direccion`) VALUES (1, 'Eroski', 'San Mames');
INSERT INTO `MAP`.`Supermercados` (`idSupermercados`, `nombre`, `direccion`) VALUES (2, 'Eroski', 'Deusto');
INSERT INTO `MAP`.`Supermercados` (`idSupermercados`, `nombre`, `direccion`) VALUES (3, 'Eroski', 'Abandoibarra');
INSERT INTO `MAP`.`Supermercados` (`idSupermercados`, `nombre`, `direccion`) VALUES (4, 'Eroski', 'Zazpi Kale');
INSERT INTO `MAP`.`Supermercados` (`idSupermercados`, `nombre`, `direccion`) VALUES (5, 'Eroski', 'Zabalburu');

COMMIT;


-- -----------------------------------------------------
-- Data for table `MAP`.`Adiminstradores`
-- -----------------------------------------------------
START TRANSACTION;
USE `MAP`;
INSERT INTO `MAP`.`Adiminstradores` (`idAdiminstradores`, `login`, `contraseña`, `nombre`, `apellido`, `DNI`, `correo`, `tipo`, `Supermercados_idSupermercados`) VALUES (1, 'sjurado', 'sara', 'Sara', 'Jurado', NULL, NULL, 'Trabajador', 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `MAP`.`Productos`
-- -----------------------------------------------------
START TRANSACTION;
USE `MAP`;
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (1, 'Macarrones', 1.99, 1);
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (2, 'Lentejas', 1.45, 1);
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (3, 'Platanos', 1.89, 1);
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (4, 'Pollo', 5.89, 1);
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (5, 'Manzanas', 1.65, 1);
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (6, 'Lejia', 2.49, 1);
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (7, 'Yogures', 1.99, 1);
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (8, 'Huevos', 3.19, 1);
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (9, 'Pan', 0.45, 1);
INSERT INTO `MAP`.`Productos` (`idProductos`, `nombre`, `precio`, `Supermercados_idSupermercados`) VALUES (10, 'Leche', 0.89, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `MAP`.`Etiquetas`
-- -----------------------------------------------------
START TRANSACTION;
USE `MAP`;
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (1, 1, 1, 1, 1);
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (2, 2, 2, 2, 1);
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (3, 3, 3, 3, 1);
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (4, 4, 4, 4, 1);
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (5, 5, 5, 5, 1);
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (6, 6, 6, 6, 1);
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (7, 7, 7, 7, 1);
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (8, 7, 8, 8, 1);
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (9, 9, 9, 9, 1);
INSERT INTO `MAP`.`Etiquetas` (`idEtiquetas`, `pasillo`, `estanteria`, `Productos_idProductos`, `Supermercados_idSupermercados`) VALUES (10, 10, 10, 10, 1);

COMMIT;

